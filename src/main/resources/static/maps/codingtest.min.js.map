{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","js/apps/codingtest/codingtest-main.js","js/apps/codingtest/expenses/expenses-controller.js","js/apps/codingtest/expenses/main.js","js/apps/codingtest/partials.js","../../node_modules/money/money.js"],"names":[],"mappings":"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ACA,EAPD;;AASA,QAAO,YAAP,GAAsB,YAAW;AAChC,SAAO,UAAP,GAAoB,EAApB;AACA,EAFD;;AAIA;AACA;AACA,QAAO,YAAP;AACA,CAlE8B,CAA/B;;;ACVA;;AAEA;;;;;;AAMA,QAAQ,0BAAR;;AAEA,IAAI,MAAM,QAAQ,MAAR,CAAe,sBAAf,EAAuC,CAChD,qBADgD,CAAvC,CAAV;;AAIA,IAAI,MAAJ,CAAW,CAAC,gBAAD,EAAmB,UAAS,cAAT,EAAyB;AACtD;AACA,gBAAe,IAAf,CAAoB,WAApB,EAAiC,EAAE,aAAa,kCAAf,EAAjC;;AAEA,gBAAe,SAAf,CAAyB,EAAC,YAAY,WAAb,EAAzB;AACA,CALU,CAAX;;AAOA,IAAI,GAAJ,CAAQ,CAAC,YAAD,EAAe,UAAS,UAAT,EAAqB;AAC3C;AACA,YAAW,WAAX,GAAyB,WAAW,WAAX,IAA0B,EAAnD;AACA,YAAW,WAAX,CAAuB,IAAvB,CAA4B,EAAE,OAAO,UAAT,EAAqB,OAAO,sBAA5B,EAAoD,KAAK,UAAzD,EAA5B;;AAEA;AACA,YAAW,WAAX,GAAyB,WAAW,WAAX,IAA0B,EAAnD;AACA,YAAW,WAAX,CAAuB,QAAvB,GAAkC,CACjC,EAAE,OAAO,UAAT,EAAqB,KAAK,UAA1B,EADiC,CAAlC;AAGA,CAVO,CAAR;;;;;ACrBA,QAAQ,MAAR,CAAe,qBAAf,EAAqC,EAArC,EAAyC,GAAzC,CAA6C,CAAC,gBAAD,EAAkB,UAAS,CAAT,EAAW;AAAC,IAAE,GAAF,CAAM,kCAAN,EAAyC,ykDAAzC;AAAonD,CAAlpD,CAA7C;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../backend-coding-challenge/codingtest.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\n\n/******************************************************************************************\n\nAlchemytec Coding Test for Expenses Back End\n\n******************************************************************************************/\n\n// App files\nrequire(\"./partials.js\");\nrequire(\"./expenses/main.js\");\n\n// Declare app level module which depends on filters, and services\nvar app = angular.module(\"alcExpenses\", [\n\t\"alcShared\",\n\t\"codingtest.partials\",\n\t\"expenses.controllers\"\n]);\n\napp.run([\"$rootScope\", function($rootScope) {\n\t// Basic config options\n\tvar gulpBuildConfig = {};\n\t$rootScope.config = angular.extend({ angular: angular.version.full }, gulpBuildConfig);\n\n\t// Headings used by the menu bars\n\t$rootScope.mainTitle = \"\";\n\t$rootScope.mainHeading = \"\";\n\n\t// Sections of content are used for bookmark navigation\n\t$rootScope.contentSections = [];\n\n\t// App sections are distinct areas of the website\n\t// These will ultimately be retrieved from the server\n\t$rootScope.appSections = $rootScope.appSections || [];\n\n\t// Initialise tab sections\n\t$rootScope.tabSections = $rootScope.tabSections || {};\n\t$rootScope.currentSection = [];\n\t$rootScope.selectTabSection = function(currentSection, selectedIndex) {\n\t\tif ($rootScope.tabSections[currentSection]) {\n\t\t\t$rootScope.currentSection = angular.copy($rootScope.tabSections[currentSection]);\n\n\t\t\tfor (var u = 0; u < $rootScope.currentSection.length; u++) {\n\t\t\t\tif (u == selectedIndex)\n\t\t\t\t\t$rootScope.currentSection[u].active = true;\n\t\t\t\telse\n\t\t\t\t\t$rootScope.currentSection[u].active = false;\n\t\t\t}\n\t\t}\n\t};\n}]);\n\n// Bootstrap the app\n$(document).ready(function() {\n\tangular.bootstrap(\"body\", [\"alcExpenses\"]);\n});\n","\"use strict\";\n\n/******************************************************************************************\n\nExpenses controller\n\n******************************************************************************************/\n\nvar app = angular.module(\"expenses.controller\", []);\n\napp.controller(\"ctrlExpenses\", [\"$rootScope\", \"$scope\", \"config\", \"restalchemy\", function ExpensesCtrl($rootScope, $scope, $config, $restalchemy) {\n\t// Update the headings\n\t$rootScope.mainTitle = \"Expenses\";\n\t$rootScope.mainHeading = \"Expenses\";\n\n\t// Update the tab sections\n\t$rootScope.selectTabSection(\"expenses\", 0);\n\n\t$scope.ukVatPercentage = 0.2;\n\n\tvar restExpenses = $restalchemy.init({ root: $config.apiroot }).at(\"expenses\");\n\tvar fx = require(\"money\");\n\tfx.settings = {\n\t\tfrom : \"EUR\",\n\t\tto : \"GBP\"\n\t};\n\n\tthis.$onInit = function() {\n\t\t$.getJSON(\"http://api.fixer.io/latest?symbols=USD,GBP\", function(data) {\n\t\t\tfx.rates = data.rates;\n\t\t\tfx.base = data.base;\n\t\t});\n\t};\n\n\t$scope.dateOptions = {\n\t\tchangeMonth: true,\n\t\tchangeYear: true,\n\t\tdateFormat: \"dd/mm/yy\"\n\t};\n\n\tvar loadExpenses = function() {\n\t\t// Retrieve a list of expenses via REST\n\t\trestExpenses.get().then(function(expenses) {\n\t\t\t$scope.expenses = expenses;\n\t\t});\n\t}\n\n\t$scope.saveExpense = function() {\n\t\tif ($scope.expensesform.$valid) {\n\t\t\t// Post the expense via REST\n\t\t\t$scope.newExpense.amount = $scope.amountInPounds($scope.newExpense.amount);\n\t\t\trestExpenses.post($scope.newExpense).then(function() {\n\t\t\t\t// Clear the form\n\t\t\t\t$scope.clearExpense();\n\t\t\t\t// Reload new expenses list\n\t\t\t\tloadExpenses();\n\t\t\t});\n\t\t}\n\t};\n\n\t$scope.amountInPounds = function(amountStr) {\n\t\tvar amount = parseFloat(amountStr);\n\t\tif(amountStr.endsWith(\"EUR\")) {\n\t\t\tamount = fx.convert(amount);\n\t\t}\n\n\t\treturn amount.toFixed(2);\n\t}\n\n\t$scope.clearExpense = function() {\n\t\t$scope.newExpense = {};\n\t};\n\n\t// Initialise scope variables\n\tloadExpenses();\n\t$scope.clearExpense();\n}]);\n","\"use strict\";\n\n/******************************************************************************************\n\nTasks main\n\n******************************************************************************************/\n\nrequire(\"./expenses-controller.js\");\n\nvar app = angular.module(\"expenses.controllers\", [\n\t\"expenses.controller\"\n]);\n\napp.config([\"$routeProvider\", function($routeProvider) {\n\t// Labour analysis routes\n\t$routeProvider.when(\"/expenses\", { templateUrl: \"codingtest/expenses-content.html\" });\n\n\t$routeProvider.otherwise({redirectTo: \"/expenses\"});\n}]);\n\napp.run([\"$rootScope\", function($rootScope) {\n\t// Add app button\n\t$rootScope.appSections = $rootScope.appSections || [];\n\t$rootScope.appSections.push({ title: \"Expenses\", image: \"img/icon-generic.png\", app: \"expenses\" });\n\n\t// Configure tab sections\n\t$rootScope.tabSections = $rootScope.tabSections || {};\n\t$rootScope.tabSections.expenses = [\n\t\t{ title: \"Expenses\", app: \"expenses\" }\n\t];\n}]);\n","angular.module(\"codingtest.partials\",[]).run([\"$templateCache\",function(e){e.put(\"codingtest/expenses-content.html\",'<div ng-controller=\"ctrlExpenses\"><h2>Expenses</h2><div bookmarklist id=\"bookmarks\" class=\"section-list\"></div><h3>Add an expense</h3><form name=\"expensesform\"><ul><li><label>Date</label><input type=\"text\" ng-required=\"true\" ng-model=\"newExpense.date\" ui-date=\"dateOptions\" placeholder=\"dd/mm/yyyy\"></li><li><label>Amount</label><input type=\"text\" ng-required=\"true\" ng-model=\"newExpense.amount\" placeholder=\"00.00\"> <span ng-if=\"newExpense.amount.endsWith(\\'EUR\\')\">{{amountInPounds(newExpense.amount)}} GBP</span></li><li><label>VAT</label><input type=\"text\" ng-required=\"true\" ng-value=\"newExpense.amount? (amountInPounds(newExpense.amount) * ukVatPercentage).toFixed(2) + \\' GBP\\': 0\" placeholder=\"00.00\" disabled=\"disabled\"></li><li><label>Reason</label><textarea at-auto-resize ng-required=\"true\" ng-model=\"newExpense.reason\" ng-trim=\"false\" placeholder=\"why oh why?\"></textarea></li><li><label></label><button ng-click=\"saveExpense()\" class=\"solid\">Save Expense</button> <button ng-click=\"clearExpense()\">cancel</button></li></ul></form><h3>Submitted expenses</h3><div class=\"list-table expenses-data\"><div class=\"header-row\"><div class=\"col-4\">Date</div><div class=\"col-4 figures\">Amount (inc. VAT)</div><div class=\"col-2 figures\">VAT</div><div class=\"col-15\">Reason</div></div><div ng-repeat=\"expense in expenses\" class=\"body-row\"><div class=\"col-4\">{{expense.date | date:\\'dd MMM yyyy\\'}}</div><div class=\"col-4 figures\">{{expense.amount | currency:\"&pound;\"}}</div><div class=\"col-2 figures\">{{expense.vat | currency:\"&pound;\"}}</div><div class=\"col-15\">{{expense.reason}}</div></div></div></div>')}]);","/*!\n * money.js / fx() v0.2\n * Copyright 2014 Open Exchange Rates\n *\n * JavaScript library for realtime currency conversion and exchange rate calculation.\n *\n * Freely distributable under the MIT license.\n * Portions of money.js are inspired by or borrowed from underscore.js\n *\n * For details, examples and documentation:\n * http://openexchangerates.github.io/money.js/\n */\n(function(root, undefined) {\n\n\t// Create a safe reference to the money.js object for use below.\n\tvar fx = function(obj) {\n\t\treturn new fxWrapper(obj);\n\t};\n\n\t// Current version.\n\tfx.version = '0.2';\n\n\n\t/* --- Setup --- */\n\n\t// fxSetup can be defined before loading money.js, to set the exchange rates and the base\n\t// (and default from/to) currencies - or the rates can be loaded in later if needed.\n\tvar fxSetup = root.fxSetup || {\n\t\trates : {},\n\t\tbase : \"\"\n\t};\n\n\t// Object containing exchange rates relative to the fx.base currency, eg { \"GBP\" : \"0.64\" }\n\tfx.rates = fxSetup.rates;\n\n\t// Default exchange rate base currency (eg \"USD\"), which all the exchange rates are relative to\n\tfx.base = fxSetup.base;\n\n\t// Default from / to currencies for conversion via fx.convert():\n\tfx.settings = {\n\t\tfrom : fxSetup.from || fx.base,\n\t\tto : fxSetup.to || fx.base\n\t};\n\n\n\t/* --- Conversion --- */\n\n\t// The base function of the library: converts a value from one currency to another\n\tvar convert = fx.convert = function(val, opts) {\n\t\t// Convert arrays recursively\n\t\tif (typeof val === 'object' && val.length) {\n\t\t\tfor (var i = 0; i< val.length; i++ ) {\n\t\t\t\tval[i] = convert(val[i], opts);\n\t\t\t}\n\t\t\treturn val;\n\t\t}\n\n\t\t// Make sure we gots some opts\n\t\topts = opts || {};\n\n\t\t// We need to know the `from` and `to` currencies\n\t\tif( !opts.from ) opts.from = fx.settings.from;\n\t\tif( !opts.to ) opts.to = fx.settings.to;\n\n\t\t// Multiple the value by the exchange rate\n\t\treturn val * getRate( opts.to, opts.from );\n\t};\n\n\t// Returns the exchange rate to `target` currency from `base` currency\n\tvar getRate = function(to, from) {\n\t\t// Save bytes in minified version\n\t\tvar rates = fx.rates;\n\n\t\t// Make sure the base rate is in the rates object:\n\t\trates[fx.base] = 1;\n\n\t\t// Throw an error if either rate isn't in the rates array\n\t\tif ( !rates[to] || !rates[from] ) throw \"fx error\";\n\n\t\t// If `from` currency === fx.base, return the basic exchange rate for the `to` currency\n\t\tif ( from === fx.base ) {\n\t\t\treturn rates[to];\n\t\t}\n\n\t\t// If `to` currency === fx.base, return the basic inverse rate of the `from` currency\n\t\tif ( to === fx.base ) {\n\t\t\treturn 1 / rates[from];\n\t\t}\n\n\t\t// Otherwise, return the `to` rate multipled by the inverse of the `from` rate to get the\n\t\t// relative exchange rate between the two currencies\n\t\treturn rates[to] * (1 / rates[from]);\n\t};\n\n\n\t/* --- OOP wrapper and chaining --- */\n\n\t// If fx(val) is called as a function, it returns a wrapped object that can be used OO-style\n\tvar fxWrapper = function(val) {\n\t\t// Experimental: parse strings to pull out currency code and value:\n\t\tif ( typeof\tval === \"string\" ) {\n\t\t\tthis._v = parseFloat(val.replace(/[^0-9-.]/g, \"\"));\n\t\t\tthis._fx = val.replace(/([^A-Za-z])/g, \"\");\n\t\t} else {\n\t\t\tthis._v = val;\n\t\t}\n\t};\n\n\t// Expose `wrapper.prototype` as `fx.prototype`\n\tvar fxProto = fx.prototype = fxWrapper.prototype;\n\n\t// fx(val).convert(opts) does the same thing as fx.convert(val, opts)\n\tfxProto.convert = function() {\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\targs.unshift(this._v);\n\t\treturn convert.apply(fx, args);\n\t};\n\n\t// fx(val).from(currency) returns a wrapped `fx` where the value has been converted from\n\t// `currency` to the `fx.base` currency. Should be followed by `.to(otherCurrency)`\n\tfxProto.from = function(currency) {\n\t\tvar wrapped = fx(convert(this._v, {from: currency, to: fx.base}));\n\t\twrapped._fx = fx.base;\n\t\treturn wrapped;\n\t};\n\n\t// fx(val).to(currency) returns the value, converted from `fx.base` to `currency`\n\tfxProto.to = function(currency) {\n\t\treturn convert(this._v, {from: this._fx ? this._fx : fx.settings.from, to: currency});\n\t};\n\n\n\t/* --- Module Definition --- */\n\n\t// Export the fx object for CommonJS. If being loaded as an AMD module, define it as such.\n\t// Otherwise, just add `fx` to the global object\n\tif (typeof exports !== 'undefined') {\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\texports = module.exports = fx;\n\t\t}\n\t\texports.fx = fx;\n\t} else if (typeof define === 'function' && define.amd) {\n\t\t// Return the library as an AMD module:\n\t\tdefine([], function() {\n\t\t\treturn fx;\n\t\t});\n\t} else {\n\t\t// Use fx.noConflict to restore `fx` back to its original value before money.js loaded.\n\t\t// Returns a reference to the library's `fx` object; e.g. `var money = fx.noConflict();`\n\t\tfx.noConflict = (function(previousFx) {\n\t\t\treturn function() {\n\t\t\t\t// Reset the value of the root's `fx` variable:\n\t\t\t\troot.fx = previousFx;\n\t\t\t\t// Delete the noConflict function:\n\t\t\t\tfx.noConflict = undefined;\n\t\t\t\t// Return reference to the library to re-assign it:\n\t\t\t\treturn fx;\n\t\t\t};\n\t\t})(root.fx);\n\n\t\t// Declare `fx` on the root (global/window) object:\n\t\troot['fx'] = fx;\n\t}\n\n\t// Root will be `window` in browser or `global` on the server:\n}(this));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcHBzL2NvZGluZ3Rlc3QvY29kaW5ndGVzdC1tYWluLmpzIiwianMvYXBwcy9jb2Rpbmd0ZXN0L2V4cGVuc2VzL2V4cGVuc2VzLWNvbnRyb2xsZXIuanMiLCJqcy9hcHBzL2NvZGluZ3Rlc3QvZXhwZW5zZXMvbWFpbi5qcyIsImpzL2FwcHMvY29kaW5ndGVzdC9wYXJ0aWFscy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9tb25leS9tb25leS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQUVBOzs7Ozs7QUFNQTs7QUFDQSxRQUFRLGVBQVI7QUFDQSxRQUFRLG9CQUFSOztBQUVBO0FBQ0EsSUFBSSxNQUFNLFFBQVEsTUFBUixDQUFlLGFBQWYsRUFBOEIsQ0FDdkMsV0FEdUMsRUFFdkMscUJBRnVDLEVBR3ZDLHNCQUh1QyxDQUE5QixDQUFWOztBQU1BLElBQUksR0FBSixDQUFRLENBQUMsWUFBRCxFQUFlLFVBQVMsVUFBVCxFQUFxQjtBQUMzQztBQUNBLEtBQUksa0JBQWtCLEVBQXRCO0FBQ0EsWUFBVyxNQUFYLEdBQW9CLFFBQVEsTUFBUixDQUFlLEVBQUUsU0FBUyxRQUFRLE9BQVIsQ0FBZ0IsSUFBM0IsRUFBZixFQUFrRCxlQUFsRCxDQUFwQjs7QUFFQTtBQUNBLFlBQVcsU0FBWCxHQUF1QixFQUF2QjtBQUNBLFlBQVcsV0FBWCxHQUF5QixFQUF6Qjs7QUFFQTtBQUNBLFlBQVcsZUFBWCxHQUE2QixFQUE3Qjs7QUFFQTtBQUNBO0FBQ0EsWUFBVyxXQUFYLEdBQXlCLFdBQVcsV0FBWCxJQUEwQixFQUFuRDs7QUFFQTtBQUNBLFlBQVcsV0FBWCxHQUF5QixXQUFXLFdBQVgsSUFBMEIsRUFBbkQ7QUFDQSxZQUFXLGNBQVgsR0FBNEIsRUFBNUI7QUFDQSxZQUFXLGdCQUFYLEdBQThCLFVBQVMsY0FBVCxFQUF5QixhQUF6QixFQUF3QztBQUNyRSxN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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5BbGNoZW15dGVjIENvZGluZyBUZXN0IGZvciBFeHBlbnNlcyBCYWNrIEVuZFxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8vIEFwcCBmaWxlc1xucmVxdWlyZShcIi4vcGFydGlhbHMuanNcIik7XG5yZXF1aXJlKFwiLi9leHBlbnNlcy9tYWluLmpzXCIpO1xuXG4vLyBEZWNsYXJlIGFwcCBsZXZlbCBtb2R1bGUgd2hpY2ggZGVwZW5kcyBvbiBmaWx0ZXJzLCBhbmQgc2VydmljZXNcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcImFsY0V4cGVuc2VzXCIsIFtcblx0XCJhbGNTaGFyZWRcIixcblx0XCJjb2Rpbmd0ZXN0LnBhcnRpYWxzXCIsXG5cdFwiZXhwZW5zZXMuY29udHJvbGxlcnNcIlxuXSk7XG5cbmFwcC5ydW4oW1wiJHJvb3RTY29wZVwiLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG5cdC8vIEJhc2ljIGNvbmZpZyBvcHRpb25zXG5cdHZhciBndWxwQnVpbGRDb25maWcgPSB7fTtcblx0JHJvb3RTY29wZS5jb25maWcgPSBhbmd1bGFyLmV4dGVuZCh7IGFuZ3VsYXI6IGFuZ3VsYXIudmVyc2lvbi5mdWxsIH0sIGd1bHBCdWlsZENvbmZpZyk7XG5cblx0Ly8gSGVhZGluZ3MgdXNlZCBieSB0aGUgbWVudSBiYXJzXG5cdCRyb290U2NvcGUubWFpblRpdGxlID0gXCJcIjtcblx0JHJvb3RTY29wZS5tYWluSGVhZGluZyA9IFwiXCI7XG5cblx0Ly8gU2VjdGlvbnMgb2YgY29udGVudCBhcmUgdXNlZCBmb3IgYm9va21hcmsgbmF2aWdhdGlvblxuXHQkcm9vdFNjb3BlLmNvbnRlbnRTZWN0aW9ucyA9IFtdO1xuXG5cdC8vIEFwcCBzZWN0aW9ucyBhcmUgZGlzdGluY3QgYXJlYXMgb2YgdGhlIHdlYnNpdGVcblx0Ly8gVGhlc2Ugd2lsbCB1bHRpbWF0ZWx5IGJlIHJldHJpZXZlZCBmcm9tIHRoZSBzZXJ2ZXJcblx0JHJvb3RTY29wZS5hcHBTZWN0aW9ucyA9ICRyb290U2NvcGUuYXBwU2VjdGlvbnMgfHwgW107XG5cblx0Ly8gSW5pdGlhbGlzZSB0YWIgc2VjdGlvbnNcblx0JHJvb3RTY29wZS50YWJTZWN0aW9ucyA9ICRyb290U2NvcGUudGFiU2VjdGlvbnMgfHwge307XG5cdCRyb290U2NvcGUuY3VycmVudFNlY3Rpb24gPSBbXTtcblx0JHJvb3RTY29wZS5zZWxlY3RUYWJTZWN0aW9uID0gZnVuY3Rpb24oY3VycmVudFNlY3Rpb24sIHNlbGVjdGVkSW5kZXgpIHtcblx0XHRpZiAoJHJvb3RTY29wZS50YWJTZWN0aW9uc1tjdXJyZW50U2VjdGlvbl0pIHtcblx0XHRcdCRyb290U2NvcGUuY3VycmVudFNlY3Rpb24gPSBhbmd1bGFyLmNvcHkoJHJvb3RTY29wZS50YWJTZWN0aW9uc1tjdXJyZW50U2VjdGlvbl0pO1xuXG5cdFx0XHRmb3IgKHZhciB1ID0gMDsgdSA8ICRyb290U2NvcGUuY3VycmVudFNlY3Rpb24ubGVuZ3RoOyB1KyspIHtcblx0XHRcdFx0aWYgKHUgPT0gc2VsZWN0ZWRJbmRleClcblx0XHRcdFx0XHQkcm9vdFNjb3BlLmN1cnJlbnRTZWN0aW9uW3VdLmFjdGl2ZSA9IHRydWU7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHQkcm9vdFNjb3BlLmN1cnJlbnRTZWN0aW9uW3VdLmFjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1dKTtcblxuLy8gQm9vdHN0cmFwIHRoZSBhcHBcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRhbmd1bGFyLmJvb3RzdHJhcChcImJvZHlcIiwgW1wiYWxjRXhwZW5zZXNcIl0pO1xufSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5FeHBlbnNlcyBjb250cm9sbGVyXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiZXhwZW5zZXMuY29udHJvbGxlclwiLCBbXSk7XG5cbmFwcC5jb250cm9sbGVyKFwiY3RybEV4cGVuc2VzXCIsIFtcIiRyb290U2NvcGVcIiwgXCIkc2NvcGVcIiwgXCJjb25maWdcIiwgXCJyZXN0YWxjaGVteVwiLCBmdW5jdGlvbiBFeHBlbnNlc0N0cmwoJHJvb3RTY29wZSwgJHNjb3BlLCAkY29uZmlnLCAkcmVzdGFsY2hlbXkpIHtcblx0Ly8gVXBkYXRlIHRoZSBoZWFkaW5nc1xuXHQkcm9vdFNjb3BlLm1haW5UaXRsZSA9IFwiRXhwZW5zZXNcIjtcblx0JHJvb3RTY29wZS5tYWluSGVhZGluZyA9IFwiRXhwZW5zZXNcIjtcblxuXHQvLyBVcGRhdGUgdGhlIHRhYiBzZWN0aW9uc1xuXHQkcm9vdFNjb3BlLnNlbGVjdFRhYlNlY3Rpb24oXCJleHBlbnNlc1wiLCAwKTtcblxuXHQkc2NvcGUudWtWYXRQZXJjZW50YWdlID0gMC4yO1xuXG5cdHZhciByZXN0RXhwZW5zZXMgPSAkcmVzdGFsY2hlbXkuaW5pdCh7IHJvb3Q6ICRjb25maWcuYXBpcm9vdCB9KS5hdChcImV4cGVuc2VzXCIpO1xuXHR2YXIgZnggPSByZXF1aXJlKFwibW9uZXlcIik7XG5cdGZ4LnNldHRpbmdzID0ge1xuXHRcdGZyb20gOiBcIkVVUlwiLFxuXHRcdHRvIDogXCJHQlBcIlxuXHR9O1xuXG5cdHRoaXMuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdCQuZ2V0SlNPTihcImh0dHA6Ly9hcGkuZml4ZXIuaW8vbGF0ZXN0P3N5bWJvbHM9VVNELEdCUFwiLCBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRmeC5yYXRlcyA9IGRhdGEucmF0ZXM7XG5cdFx0XHRmeC5iYXNlID0gZGF0YS5iYXNlO1xuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS5kYXRlT3B0aW9ucyA9IHtcblx0XHRjaGFuZ2VNb250aDogdHJ1ZSxcblx0XHRjaGFuZ2VZZWFyOiB0cnVlLFxuXHRcdGRhdGVGb3JtYXQ6IFwiZGQvbW0veXlcIlxuXHR9O1xuXG5cdHZhciBsb2FkRXhwZW5zZXMgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBSZXRyaWV2ZSBhIGxpc3Qgb2YgZXhwZW5zZXMgdmlhIFJFU1Rcblx0XHRyZXN0RXhwZW5zZXMuZ2V0KCkudGhlbihmdW5jdGlvbihleHBlbnNlcykge1xuXHRcdFx0JHNjb3BlLmV4cGVuc2VzID0gZXhwZW5zZXM7XG5cdFx0fSk7XG5cdH1cblxuXHQkc2NvcGUuc2F2ZUV4cGVuc2UgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoJHNjb3BlLmV4cGVuc2VzZm9ybS4kdmFsaWQpIHtcblx0XHRcdC8vIFBvc3QgdGhlIGV4cGVuc2UgdmlhIFJFU1Rcblx0XHRcdCRzY29wZS5uZXdFeHBlbnNlLmFtb3VudCA9ICRzY29wZS5hbW91bnRJblBvdW5kcygkc2NvcGUubmV3RXhwZW5zZS5hbW91bnQpO1xuXHRcdFx0cmVzdEV4cGVuc2VzLnBvc3QoJHNjb3BlLm5ld0V4cGVuc2UpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIENsZWFyIHRoZSBmb3JtXG5cdFx0XHRcdCRzY29wZS5jbGVhckV4cGVuc2UoKTtcblx0XHRcdFx0Ly8gUmVsb2FkIG5ldyBleHBlbnNlcyBsaXN0XG5cdFx0XHRcdGxvYWRFeHBlbnNlcygpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdCRzY29wZS5hbW91bnRJblBvdW5kcyA9IGZ1bmN0aW9uKGFtb3VudFN0cikge1xuXHRcdHZhciBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudFN0cik7XG5cdFx0aWYoYW1vdW50U3RyLmVuZHNXaXRoKFwiRVVSXCIpKSB7XG5cdFx0XHRhbW91bnQgPSBmeC5jb252ZXJ0KGFtb3VudCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFtb3VudC50b0ZpeGVkKDIpO1xuXHR9XG5cblx0JHNjb3BlLmNsZWFyRXhwZW5zZSA9IGZ1bmN0aW9uKCkge1xuXHRcdCRzY29wZS5uZXdFeHBlbnNlID0ge307XG5cdH07XG5cblx0Ly8gSW5pdGlhbGlzZSBzY29wZSB2YXJpYWJsZXNcblx0bG9hZEV4cGVuc2VzKCk7XG5cdCRzY29wZS5jbGVhckV4cGVuc2UoKTtcbn1dKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cblRhc2tzIG1haW5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5yZXF1aXJlKFwiLi9leHBlbnNlcy1jb250cm9sbGVyLmpzXCIpO1xuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJleHBlbnNlcy5jb250cm9sbGVyc1wiLCBbXG5cdFwiZXhwZW5zZXMuY29udHJvbGxlclwiXG5dKTtcblxuYXBwLmNvbmZpZyhbXCIkcm91dGVQcm92aWRlclwiLCBmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuXHQvLyBMYWJvdXIgYW5hbHlzaXMgcm91dGVzXG5cdCRyb3V0ZVByb3ZpZGVyLndoZW4oXCIvZXhwZW5zZXNcIiwgeyB0ZW1wbGF0ZVVybDogXCJjb2Rpbmd0ZXN0L2V4cGVuc2VzLWNvbnRlbnQuaHRtbFwiIH0pO1xuXG5cdCRyb3V0ZVByb3ZpZGVyLm90aGVyd2lzZSh7cmVkaXJlY3RUbzogXCIvZXhwZW5zZXNcIn0pO1xufV0pO1xuXG5hcHAucnVuKFtcIiRyb290U2NvcGVcIiwgZnVuY3Rpb24oJHJvb3RTY29wZSkge1xuXHQvLyBBZGQgYXBwIGJ1dHRvblxuXHQkcm9vdFNjb3BlLmFwcFNlY3Rpb25zID0gJHJvb3RTY29wZS5hcHBTZWN0aW9ucyB8fCBbXTtcblx0JHJvb3RTY29wZS5hcHBTZWN0aW9ucy5wdXNoKHsgdGl0bGU6IFwiRXhwZW5zZXNcIiwgaW1hZ2U6IFwiaW1nL2ljb24tZ2VuZXJpYy5wbmdcIiwgYXBwOiBcImV4cGVuc2VzXCIgfSk7XG5cblx0Ly8gQ29uZmlndXJlIHRhYiBzZWN0aW9uc1xuXHQkcm9vdFNjb3BlLnRhYlNlY3Rpb25zID0gJHJvb3RTY29wZS50YWJTZWN0aW9ucyB8fCB7fTtcblx0JHJvb3RTY29wZS50YWJTZWN0aW9ucy5leHBlbnNlcyA9IFtcblx0XHR7IHRpdGxlOiBcIkV4cGVuc2VzXCIsIGFwcDogXCJleHBlbnNlc1wiIH1cblx0XTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiY29kaW5ndGVzdC5wYXJ0aWFsc1wiLFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIixmdW5jdGlvbihlKXtlLnB1dChcImNvZGluZ3Rlc3QvZXhwZW5zZXMtY29udGVudC5odG1sXCIsJzxkaXYgbmctY29udHJvbGxlcj1cImN0cmxFeHBlbnNlc1wiPjxoMj5FeHBlbnNlczwvaDI+PGRpdiBib29rbWFya2xpc3QgaWQ9XCJib29rbWFya3NcIiBjbGFzcz1cInNlY3Rpb24tbGlzdFwiPjwvZGl2PjxoMz5BZGQgYW4gZXhwZW5zZTwvaDM+PGZvcm0gbmFtZT1cImV4cGVuc2VzZm9ybVwiPjx1bD48bGk+PGxhYmVsPkRhdGU8L2xhYmVsPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLXJlcXVpcmVkPVwidHJ1ZVwiIG5nLW1vZGVsPVwibmV3RXhwZW5zZS5kYXRlXCIgdWktZGF0ZT1cImRhdGVPcHRpb25zXCIgcGxhY2Vob2xkZXI9XCJkZC9tbS95eXl5XCI+PC9saT48bGk+PGxhYmVsPkFtb3VudDwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctcmVxdWlyZWQ9XCJ0cnVlXCIgbmctbW9kZWw9XCJuZXdFeHBlbnNlLmFtb3VudFwiIHBsYWNlaG9sZGVyPVwiMDAuMDBcIj4gPHNwYW4gbmctaWY9XCJuZXdFeHBlbnNlLmFtb3VudC5lbmRzV2l0aChcXCdFVVJcXCcpXCI+e3thbW91bnRJblBvdW5kcyhuZXdFeHBlbnNlLmFtb3VudCl9fSBHQlA8L3NwYW4+PC9saT48bGk+PGxhYmVsPlZBVDwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctcmVxdWlyZWQ9XCJ0cnVlXCIgbmctdmFsdWU9XCJuZXdFeHBlbnNlLmFtb3VudD8gKGFtb3VudEluUG91bmRzKG5ld0V4cGVuc2UuYW1vdW50KSAqIHVrVmF0UGVyY2VudGFnZSkudG9GaXhlZCgyKSArIFxcJyBHQlBcXCc6IDBcIiBwbGFjZWhvbGRlcj1cIjAwLjAwXCIgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiPjwvbGk+PGxpPjxsYWJlbD5SZWFzb248L2xhYmVsPjx0ZXh0YXJlYSBhdC1hdXRvLXJlc2l6ZSBuZy1yZXF1aXJlZD1cInRydWVcIiBuZy1tb2RlbD1cIm5ld0V4cGVuc2UucmVhc29uXCIgbmctdHJpbT1cImZhbHNlXCIgcGxhY2Vob2xkZXI9XCJ3aHkgb2ggd2h5P1wiPjwvdGV4dGFyZWE+PC9saT48bGk+PGxhYmVsPjwvbGFiZWw+PGJ1dHRvbiBuZy1jbGljaz1cInNhdmVFeHBlbnNlKClcIiBjbGFzcz1cInNvbGlkXCI+U2F2ZSBFeHBlbnNlPC9idXR0b24+IDxidXR0b24gbmctY2xpY2s9XCJjbGVhckV4cGVuc2UoKVwiPmNhbmNlbDwvYnV0dG9uPjwvbGk+PC91bD48L2Zvcm0+PGgzPlN1Ym1pdHRlZCBleHBlbnNlczwvaDM+PGRpdiBjbGFzcz1cImxpc3QtdGFibGUgZXhwZW5zZXMtZGF0YVwiPjxkaXYgY2xhc3M9XCJoZWFkZXItcm93XCI+PGRpdiBjbGFzcz1cImNvbC00XCI+RGF0ZTwvZGl2PjxkaXYgY2xhc3M9XCJjb2wtNCBmaWd1cmVzXCI+QW1vdW50IChpbmMuIFZBVCk8L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTIgZmlndXJlc1wiPlZBVDwvZGl2PjxkaXYgY2xhc3M9XCJjb2wtMTVcIj5SZWFzb248L2Rpdj48L2Rpdj48ZGl2IG5nLXJlcGVhdD1cImV4cGVuc2UgaW4gZXhwZW5zZXNcIiBjbGFzcz1cImJvZHktcm93XCI+PGRpdiBjbGFzcz1cImNvbC00XCI+e3tleHBlbnNlLmRhdGUgfCBkYXRlOlxcJ2RkIE1NTSB5eXl5XFwnfX08L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTQgZmlndXJlc1wiPnt7ZXhwZW5zZS5hbW91bnQgfCBjdXJyZW5jeTpcIiZwb3VuZDtcIn19PC9kaXY+PGRpdiBjbGFzcz1cImNvbC0yIGZpZ3VyZXNcIj57e2V4cGVuc2UudmF0IHwgY3VycmVuY3k6XCImcG91bmQ7XCJ9fTwvZGl2PjxkaXYgY2xhc3M9XCJjb2wtMTVcIj57e2V4cGVuc2UucmVhc29ufX08L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nKX1dKTsiLCIvKiFcbiAqIG1vbmV5LmpzIC8gZngoKSB2MC4yXG4gKiBDb3B5cmlnaHQgMjAxNCBPcGVuIEV4Y2hhbmdlIFJhdGVzXG4gKlxuICogSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciByZWFsdGltZSBjdXJyZW5jeSBjb252ZXJzaW9uIGFuZCBleGNoYW5nZSByYXRlIGNhbGN1bGF0aW9uLlxuICpcbiAqIEZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIFBvcnRpb25zIG9mIG1vbmV5LmpzIGFyZSBpbnNwaXJlZCBieSBvciBib3Jyb3dlZCBmcm9tIHVuZGVyc2NvcmUuanNcbiAqXG4gKiBGb3IgZGV0YWlscywgZXhhbXBsZXMgYW5kIGRvY3VtZW50YXRpb246XG4gKiBodHRwOi8vb3BlbmV4Y2hhbmdlcmF0ZXMuZ2l0aHViLmlvL21vbmV5LmpzL1xuICovXG4oZnVuY3Rpb24ocm9vdCwgdW5kZWZpbmVkKSB7XG5cblx0Ly8gQ3JlYXRlIGEgc2FmZSByZWZlcmVuY2UgdG8gdGhlIG1vbmV5LmpzIG9iamVjdCBmb3IgdXNlIGJlbG93LlxuXHR2YXIgZnggPSBmdW5jdGlvbihvYmopIHtcblx0XHRyZXR1cm4gbmV3IGZ4V3JhcHBlcihvYmopO1xuXHR9O1xuXG5cdC8vIEN1cnJlbnQgdmVyc2lvbi5cblx0ZngudmVyc2lvbiA9ICcwLjInO1xuXG5cblx0LyogLS0tIFNldHVwIC0tLSAqL1xuXG5cdC8vIGZ4U2V0dXAgY2FuIGJlIGRlZmluZWQgYmVmb3JlIGxvYWRpbmcgbW9uZXkuanMsIHRvIHNldCB0aGUgZXhjaGFuZ2UgcmF0ZXMgYW5kIHRoZSBiYXNlXG5cdC8vIChhbmQgZGVmYXVsdCBmcm9tL3RvKSBjdXJyZW5jaWVzIC0gb3IgdGhlIHJhdGVzIGNhbiBiZSBsb2FkZWQgaW4gbGF0ZXIgaWYgbmVlZGVkLlxuXHR2YXIgZnhTZXR1cCA9IHJvb3QuZnhTZXR1cCB8fCB7XG5cdFx0cmF0ZXMgOiB7fSxcblx0XHRiYXNlIDogXCJcIlxuXHR9O1xuXG5cdC8vIE9iamVjdCBjb250YWluaW5nIGV4Y2hhbmdlIHJhdGVzIHJlbGF0aXZlIHRvIHRoZSBmeC5iYXNlIGN1cnJlbmN5LCBlZyB7IFwiR0JQXCIgOiBcIjAuNjRcIiB9XG5cdGZ4LnJhdGVzID0gZnhTZXR1cC5yYXRlcztcblxuXHQvLyBEZWZhdWx0IGV4Y2hhbmdlIHJhdGUgYmFzZSBjdXJyZW5jeSAoZWcgXCJVU0RcIiksIHdoaWNoIGFsbCB0aGUgZXhjaGFuZ2UgcmF0ZXMgYXJlIHJlbGF0aXZlIHRvXG5cdGZ4LmJhc2UgPSBmeFNldHVwLmJhc2U7XG5cblx0Ly8gRGVmYXVsdCBmcm9tIC8gdG8gY3VycmVuY2llcyBmb3IgY29udmVyc2lvbiB2aWEgZnguY29udmVydCgpOlxuXHRmeC5zZXR0aW5ncyA9IHtcblx0XHRmcm9tIDogZnhTZXR1cC5mcm9tIHx8IGZ4LmJhc2UsXG5cdFx0dG8gOiBmeFNldHVwLnRvIHx8IGZ4LmJhc2Vcblx0fTtcblxuXG5cdC8qIC0tLSBDb252ZXJzaW9uIC0tLSAqL1xuXG5cdC8vIFRoZSBiYXNlIGZ1bmN0aW9uIG9mIHRoZSBsaWJyYXJ5OiBjb252ZXJ0cyBhIHZhbHVlIGZyb20gb25lIGN1cnJlbmN5IHRvIGFub3RoZXJcblx0dmFyIGNvbnZlcnQgPSBmeC5jb252ZXJ0ID0gZnVuY3Rpb24odmFsLCBvcHRzKSB7XG5cdFx0Ly8gQ29udmVydCBhcnJheXMgcmVjdXJzaXZlbHlcblx0XHRpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsLmxlbmd0aCkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGk8IHZhbC5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsW2ldID0gY29udmVydCh2YWxbaV0sIG9wdHMpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgd2UgZ290cyBzb21lIG9wdHNcblx0XHRvcHRzID0gb3B0cyB8fCB7fTtcblxuXHRcdC8vIFdlIG5lZWQgdG8ga25vdyB0aGUgYGZyb21gIGFuZCBgdG9gIGN1cnJlbmNpZXNcblx0XHRpZiggIW9wdHMuZnJvbSApIG9wdHMuZnJvbSA9IGZ4LnNldHRpbmdzLmZyb207XG5cdFx0aWYoICFvcHRzLnRvICkgb3B0cy50byA9IGZ4LnNldHRpbmdzLnRvO1xuXG5cdFx0Ly8gTXVsdGlwbGUgdGhlIHZhbHVlIGJ5IHRoZSBleGNoYW5nZSByYXRlXG5cdFx0cmV0dXJuIHZhbCAqIGdldFJhdGUoIG9wdHMudG8sIG9wdHMuZnJvbSApO1xuXHR9O1xuXG5cdC8vIFJldHVybnMgdGhlIGV4Y2hhbmdlIHJhdGUgdG8gYHRhcmdldGAgY3VycmVuY3kgZnJvbSBgYmFzZWAgY3VycmVuY3lcblx0dmFyIGdldFJhdGUgPSBmdW5jdGlvbih0bywgZnJvbSkge1xuXHRcdC8vIFNhdmUgYnl0ZXMgaW4gbWluaWZpZWQgdmVyc2lvblxuXHRcdHZhciByYXRlcyA9IGZ4LnJhdGVzO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoZSBiYXNlIHJhdGUgaXMgaW4gdGhlIHJhdGVzIG9iamVjdDpcblx0XHRyYXRlc1tmeC5iYXNlXSA9IDE7XG5cblx0XHQvLyBUaHJvdyBhbiBlcnJvciBpZiBlaXRoZXIgcmF0ZSBpc24ndCBpbiB0aGUgcmF0ZXMgYXJyYXlcblx0XHRpZiAoICFyYXRlc1t0b10gfHwgIXJhdGVzW2Zyb21dICkgdGhyb3cgXCJmeCBlcnJvclwiO1xuXG5cdFx0Ly8gSWYgYGZyb21gIGN1cnJlbmN5ID09PSBmeC5iYXNlLCByZXR1cm4gdGhlIGJhc2ljIGV4Y2hhbmdlIHJhdGUgZm9yIHRoZSBgdG9gIGN1cnJlbmN5XG5cdFx0aWYgKCBmcm9tID09PSBmeC5iYXNlICkge1xuXHRcdFx0cmV0dXJuIHJhdGVzW3RvXTtcblx0XHR9XG5cblx0XHQvLyBJZiBgdG9gIGN1cnJlbmN5ID09PSBmeC5iYXNlLCByZXR1cm4gdGhlIGJhc2ljIGludmVyc2UgcmF0ZSBvZiB0aGUgYGZyb21gIGN1cnJlbmN5XG5cdFx0aWYgKCB0byA9PT0gZnguYmFzZSApIHtcblx0XHRcdHJldHVybiAxIC8gcmF0ZXNbZnJvbV07XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlLCByZXR1cm4gdGhlIGB0b2AgcmF0ZSBtdWx0aXBsZWQgYnkgdGhlIGludmVyc2Ugb2YgdGhlIGBmcm9tYCByYXRlIHRvIGdldCB0aGVcblx0XHQvLyByZWxhdGl2ZSBleGNoYW5nZSByYXRlIGJldHdlZW4gdGhlIHR3byBjdXJyZW5jaWVzXG5cdFx0cmV0dXJuIHJhdGVzW3RvXSAqICgxIC8gcmF0ZXNbZnJvbV0pO1xuXHR9O1xuXG5cblx0LyogLS0tIE9PUCB3cmFwcGVyIGFuZCBjaGFpbmluZyAtLS0gKi9cblxuXHQvLyBJZiBmeCh2YWwpIGlzIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLCBpdCByZXR1cm5zIGEgd3JhcHBlZCBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBPTy1zdHlsZVxuXHR2YXIgZnhXcmFwcGVyID0gZnVuY3Rpb24odmFsKSB7XG5cdFx0Ly8gRXhwZXJpbWVudGFsOiBwYXJzZSBzdHJpbmdzIHRvIHB1bGwgb3V0IGN1cnJlbmN5IGNvZGUgYW5kIHZhbHVlOlxuXHRcdGlmICggdHlwZW9mXHR2YWwgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0aGlzLl92ID0gcGFyc2VGbG9hdCh2YWwucmVwbGFjZSgvW14wLTktLl0vZywgXCJcIikpO1xuXHRcdFx0dGhpcy5fZnggPSB2YWwucmVwbGFjZSgvKFteQS1aYS16XSkvZywgXCJcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3YgPSB2YWw7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIEV4cG9zZSBgd3JhcHBlci5wcm90b3R5cGVgIGFzIGBmeC5wcm90b3R5cGVgXG5cdHZhciBmeFByb3RvID0gZngucHJvdG90eXBlID0gZnhXcmFwcGVyLnByb3RvdHlwZTtcblxuXHQvLyBmeCh2YWwpLmNvbnZlcnQob3B0cykgZG9lcyB0aGUgc2FtZSB0aGluZyBhcyBmeC5jb252ZXJ0KHZhbCwgb3B0cylcblx0ZnhQcm90by5jb252ZXJ0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXHRcdGFyZ3MudW5zaGlmdCh0aGlzLl92KTtcblx0XHRyZXR1cm4gY29udmVydC5hcHBseShmeCwgYXJncyk7XG5cdH07XG5cblx0Ly8gZngodmFsKS5mcm9tKGN1cnJlbmN5KSByZXR1cm5zIGEgd3JhcHBlZCBgZnhgIHdoZXJlIHRoZSB2YWx1ZSBoYXMgYmVlbiBjb252ZXJ0ZWQgZnJvbVxuXHQvLyBgY3VycmVuY3lgIHRvIHRoZSBgZnguYmFzZWAgY3VycmVuY3kuIFNob3VsZCBiZSBmb2xsb3dlZCBieSBgLnRvKG90aGVyQ3VycmVuY3kpYFxuXHRmeFByb3RvLmZyb20gPSBmdW5jdGlvbihjdXJyZW5jeSkge1xuXHRcdHZhciB3cmFwcGVkID0gZngoY29udmVydCh0aGlzLl92LCB7ZnJvbTogY3VycmVuY3ksIHRvOiBmeC5iYXNlfSkpO1xuXHRcdHdyYXBwZWQuX2Z4ID0gZnguYmFzZTtcblx0XHRyZXR1cm4gd3JhcHBlZDtcblx0fTtcblxuXHQvLyBmeCh2YWwpLnRvKGN1cnJlbmN5KSByZXR1cm5zIHRoZSB2YWx1ZSwgY29udmVydGVkIGZyb20gYGZ4LmJhc2VgIHRvIGBjdXJyZW5jeWBcblx0ZnhQcm90by50byA9IGZ1bmN0aW9uKGN1cnJlbmN5KSB7XG5cdFx0cmV0dXJuIGNvbnZlcnQodGhpcy5fdiwge2Zyb206IHRoaXMuX2Z4ID8gdGhpcy5fZnggOiBmeC5zZXR0aW5ncy5mcm9tLCB0bzogY3VycmVuY3l9KTtcblx0fTtcblxuXG5cdC8qIC0tLSBNb2R1bGUgRGVmaW5pdGlvbiAtLS0gKi9cblxuXHQvLyBFeHBvcnQgdGhlIGZ4IG9iamVjdCBmb3IgQ29tbW9uSlMuIElmIGJlaW5nIGxvYWRlZCBhcyBhbiBBTUQgbW9kdWxlLCBkZWZpbmUgaXQgYXMgc3VjaC5cblx0Ly8gT3RoZXJ3aXNlLCBqdXN0IGFkZCBgZnhgIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5cdGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRcdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ4O1xuXHRcdH1cblx0XHRleHBvcnRzLmZ4ID0gZng7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gUmV0dXJuIHRoZSBsaWJyYXJ5IGFzIGFuIEFNRCBtb2R1bGU6XG5cdFx0ZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmeDtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHQvLyBVc2UgZngubm9Db25mbGljdCB0byByZXN0b3JlIGBmeGAgYmFjayB0byBpdHMgb3JpZ2luYWwgdmFsdWUgYmVmb3JlIG1vbmV5LmpzIGxvYWRlZC5cblx0XHQvLyBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBsaWJyYXJ5J3MgYGZ4YCBvYmplY3Q7IGUuZy4gYHZhciBtb25leSA9IGZ4Lm5vQ29uZmxpY3QoKTtgXG5cdFx0Zngubm9Db25mbGljdCA9IChmdW5jdGlvbihwcmV2aW91c0Z4KSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIFJlc2V0IHRoZSB2YWx1ZSBvZiB0aGUgcm9vdCdzIGBmeGAgdmFyaWFibGU6XG5cdFx0XHRcdHJvb3QuZnggPSBwcmV2aW91c0Z4O1xuXHRcdFx0XHQvLyBEZWxldGUgdGhlIG5vQ29uZmxpY3QgZnVuY3Rpb246XG5cdFx0XHRcdGZ4Lm5vQ29uZmxpY3QgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdC8vIFJldHVybiByZWZlcmVuY2UgdG8gdGhlIGxpYnJhcnkgdG8gcmUtYXNzaWduIGl0OlxuXHRcdFx0XHRyZXR1cm4gZng7XG5cdFx0XHR9O1xuXHRcdH0pKHJvb3QuZngpO1xuXG5cdFx0Ly8gRGVjbGFyZSBgZnhgIG9uIHRoZSByb290IChnbG9iYWwvd2luZG93KSBvYmplY3Q6XG5cdFx0cm9vdFsnZngnXSA9IGZ4O1xuXHR9XG5cblx0Ly8gUm9vdCB3aWxsIGJlIGB3aW5kb3dgIGluIGJyb3dzZXIgb3IgYGdsb2JhbGAgb24gdGhlIHNlcnZlcjpcbn0odGhpcykpO1xuIl19"}